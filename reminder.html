<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gestionale Alcompleto</title>
    <link rel="stylesheet" href="styles.css?v=10" />
  </head>
  <body>
    <div class="bg-orb orb-1" aria-hidden="true"></div>
    <div class="bg-orb orb-2" aria-hidden="true"></div>
    <main class="app">
      <header class="app-header">
        <div>
          <p class="eyebrow">CRM Lead Strutture</p>
          <h1>Reminder</h1>
          <div class="header-links">
            <a class="text-link" href="index.html">Torna alla pipeline</a>
            <a class="text-link" href="confermati.html">Vai ai confermati</a>
          </div>
        </div>
        <div class="user-area">
          <span id="userLabel" class="user-label">Non autenticato</span>
          <button id="logoutBtn" class="ghost-btn" type="button">Esci</button>
        </div>
      </header>

      <section id="loginView" class="card">
        <h2>Accedi</h2>
        <p class="muted">Usa le credenziali personali per continuare.</p>
        <form id="loginForm" class="form-grid">
          <label>
            Email
            <input id="email" type="email" placeholder="nome@azienda.it" required />
          </label>
          <label>
            Password
            <input id="password" type="password" placeholder="••••••••" required />
          </label>
          <button class="primary-btn" type="submit">Entra</button>
          <p id="loginError" class="error-text" role="alert"></p>
        </form>
      </section>

      <section id="appView" class="stack" hidden>
        <section class="card">
          <div class="card-header">
            <div>
              <h2>Promemoria</h2>
              <p class="muted">Organizzati per persona con scadenze a colore.</p>
            </div>
            <button id="addReminderBtn" class="primary-btn" type="button">
              Aggiungi attivita'
            </button>
          </div>
        </section>

        <section class="reminder-columns">
          <div class="reminder-column">
            <h2>Alessio</h2>
            <div id="colAlessio" class="reminder-list"></div>
          </div>
          <div class="reminder-column">
            <h2>Davide</h2>
            <div id="colDavide" class="reminder-list"></div>
          </div>
          <div class="reminder-column">
            <h2>Lorenzo</h2>
            <div id="colLorenzo" class="reminder-list"></div>
          </div>
        </section>
      </section>
    </main>

    <div id="modal" class="modal" hidden>
      <div class="modal-card">
        <h2 id="modalTitle">Nuovo reminder</h2>
        <form id="reminderForm" class="form-grid">
          <input id="reminderId" type="hidden" />
          <label>
            Testo reminder
            <textarea id="reminderText" rows="3" required></textarea>
          </label>
          <label>
            Data scadenza
            <input id="reminderDate" type="date" required />
          </label>
          <label>
            Per chi
            <select id="reminderOwner" required>
              <option value="Alessio">Alessio</option>
              <option value="Davide">Davide</option>
              <option value="Lorenzo">Lorenzo</option>
            </select>
          </label>
          <label>
            Stato
            <select id="reminderStatus" required>
              <option value="da_fare">Da fare</option>
              <option value="completato">Completato</option>
            </select>
          </label>
          <div class="form-actions">
            <button id="saveReminderBtn" class="primary-btn" type="submit">Salva</button>
            <button id="cancelReminderBtn" class="ghost-btn" type="button">Annulla</button>
            <button id="deleteReminderBtn" class="danger-btn" type="button">Elimina</button>
          </div>
          <p id="reminderError" class="error-text" role="alert"></p>
        </form>
      </div>
    </div>

    <script type="module" src="reminder.js?v=10"></script>
  </body>
</html>
